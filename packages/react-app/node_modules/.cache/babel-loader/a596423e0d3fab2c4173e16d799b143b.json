{"ast":null,"code":"/*\n * Copyright (c) 2012 Mathieu Turcotte\n * Licensed under the MIT license.\n */\nvar util = require('util');\n\nvar errors = module.exports = require('./errors');\n\nfunction failCheck(ExceptionConstructor, callee, messageFormat, formatArgs) {\n  messageFormat = messageFormat || '';\n  var message = util.format.apply(this, [messageFormat].concat(formatArgs));\n  var error = new ExceptionConstructor(message);\n  Error.captureStackTrace(error, callee);\n  throw error;\n}\n\nfunction failArgumentCheck(callee, message, formatArgs) {\n  failCheck(errors.IllegalArgumentError, callee, message, formatArgs);\n}\n\nfunction failStateCheck(callee, message, formatArgs) {\n  failCheck(errors.IllegalStateError, callee, message, formatArgs);\n}\n\nmodule.exports.checkArgument = function (value, message) {\n  if (!value) {\n    failArgumentCheck(arguments.callee, message, Array.prototype.slice.call(arguments, 2));\n  }\n};\n\nmodule.exports.checkState = function (value, message) {\n  if (!value) {\n    failStateCheck(arguments.callee, message, Array.prototype.slice.call(arguments, 2));\n  }\n};\n\nmodule.exports.checkIsDef = function (value, message) {\n  if (value !== undefined) {\n    return value;\n  }\n\n  failArgumentCheck(arguments.callee, message || 'Expected value to be defined but was undefined.', Array.prototype.slice.call(arguments, 2));\n};\n\nmodule.exports.checkIsDefAndNotNull = function (value, message) {\n  // Note that undefined == null.\n  if (value != null) {\n    return value;\n  }\n\n  failArgumentCheck(arguments.callee, message || 'Expected value to be defined and not null but got \"' + typeOf(value) + '\".', Array.prototype.slice.call(arguments, 2));\n}; // Fixed version of the typeOf operator which returns 'null' for null values\n// and 'array' for arrays.\n\n\nfunction typeOf(value) {\n  var s = typeof value;\n\n  if (s == 'object') {\n    if (!value) {\n      return 'null';\n    } else if (value instanceof Array) {\n      return 'array';\n    }\n  }\n\n  return s;\n}\n\nfunction typeCheck(expect) {\n  return function (value, message) {\n    var type = typeOf(value);\n\n    if (type == expect) {\n      return value;\n    }\n\n    failArgumentCheck(arguments.callee, message || 'Expected \"' + expect + '\" but got \"' + type + '\".', Array.prototype.slice.call(arguments, 2));\n  };\n}\n\nmodule.exports.checkIsString = typeCheck('string');\nmodule.exports.checkIsArray = typeCheck('array');\nmodule.exports.checkIsNumber = typeCheck('number');\nmodule.exports.checkIsBoolean = typeCheck('boolean');\nmodule.exports.checkIsFunction = typeCheck('function');\nmodule.exports.checkIsObject = typeCheck('object');","map":{"version":3,"sources":["/Users/chrisbuonocore/personal/hackathons/hackfs21/node_modules/precond/lib/checks.js"],"names":["util","require","errors","module","exports","failCheck","ExceptionConstructor","callee","messageFormat","formatArgs","message","format","apply","concat","error","Error","captureStackTrace","failArgumentCheck","IllegalArgumentError","failStateCheck","IllegalStateError","checkArgument","value","arguments","Array","prototype","slice","call","checkState","checkIsDef","undefined","checkIsDefAndNotNull","typeOf","s","typeCheck","expect","type","checkIsString","checkIsArray","checkIsNumber","checkIsBoolean","checkIsFunction","checkIsObject"],"mappings":"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","sourcesContent":["/*\n * Copyright (c) 2012 Mathieu Turcotte\n * Licensed under the MIT license.\n */\n\nvar util = require('util');\n\nvar errors = module.exports = require('./errors');\n\nfunction failCheck(ExceptionConstructor, callee, messageFormat, formatArgs) {\n    messageFormat = messageFormat || '';\n    var message = util.format.apply(this, [messageFormat].concat(formatArgs));\n    var error = new ExceptionConstructor(message);\n    Error.captureStackTrace(error, callee);\n    throw error;\n}\n\nfunction failArgumentCheck(callee, message, formatArgs) {\n    failCheck(errors.IllegalArgumentError, callee, message, formatArgs);\n}\n\nfunction failStateCheck(callee, message, formatArgs) {\n    failCheck(errors.IllegalStateError, callee, message, formatArgs);\n}\n\nmodule.exports.checkArgument = function(value, message) {\n    if (!value) {\n        failArgumentCheck(arguments.callee, message,\n            Array.prototype.slice.call(arguments, 2));\n    }\n};\n\nmodule.exports.checkState = function(value, message) {\n    if (!value) {\n        failStateCheck(arguments.callee, message,\n            Array.prototype.slice.call(arguments, 2));\n    }\n};\n\nmodule.exports.checkIsDef = function(value, message) {\n    if (value !== undefined) {\n        return value;\n    }\n\n    failArgumentCheck(arguments.callee, message ||\n        'Expected value to be defined but was undefined.',\n        Array.prototype.slice.call(arguments, 2));\n};\n\nmodule.exports.checkIsDefAndNotNull = function(value, message) {\n    // Note that undefined == null.\n    if (value != null) {\n        return value;\n    }\n\n    failArgumentCheck(arguments.callee, message ||\n        'Expected value to be defined and not null but got \"' +\n        typeOf(value) + '\".', Array.prototype.slice.call(arguments, 2));\n};\n\n// Fixed version of the typeOf operator which returns 'null' for null values\n// and 'array' for arrays.\nfunction typeOf(value) {\n    var s = typeof value;\n    if (s == 'object') {\n        if (!value) {\n            return 'null';\n        } else if (value instanceof Array) {\n            return 'array';\n        }\n    }\n    return s;\n}\n\nfunction typeCheck(expect) {\n    return function(value, message) {\n        var type = typeOf(value);\n\n        if (type == expect) {\n            return value;\n        }\n\n        failArgumentCheck(arguments.callee, message ||\n            'Expected \"' + expect + '\" but got \"' + type + '\".',\n            Array.prototype.slice.call(arguments, 2));\n    };\n}\n\nmodule.exports.checkIsString = typeCheck('string');\nmodule.exports.checkIsArray = typeCheck('array');\nmodule.exports.checkIsNumber = typeCheck('number');\nmodule.exports.checkIsBoolean = typeCheck('boolean');\nmodule.exports.checkIsFunction = typeCheck('function');\nmodule.exports.checkIsObject = typeCheck('object');\n"]},"metadata":{},"sourceType":"script"}