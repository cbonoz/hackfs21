{"ast":null,"code":"\"use strict\"; // Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ScopedLocalStorage = void 0;\n\nclass ScopedLocalStorage {\n  constructor(scope) {\n    this.scope = scope;\n  }\n\n  setItem(key, value) {\n    localStorage.setItem(this.scopedKey(key), value);\n  }\n\n  getItem(key) {\n    return localStorage.getItem(this.scopedKey(key));\n  }\n\n  removeItem(key) {\n    localStorage.removeItem(this.scopedKey(key));\n  }\n\n  clear() {\n    const prefix = this.scopedKey(\"\");\n    const keysToRemove = [];\n\n    for (let i = 0; i < localStorage.length; i++) {\n      const key = localStorage.key(i);\n\n      if (typeof key === \"string\" && key.startsWith(prefix)) {\n        keysToRemove.push(key);\n      }\n    }\n\n    keysToRemove.forEach(key => localStorage.removeItem(key));\n  }\n\n  scopedKey(key) {\n    return `${this.scope}:${key}`;\n  }\n\n}\n\nexports.ScopedLocalStorage = ScopedLocalStorage;","map":{"version":3,"sources":["/Users/chrisbuonocore/personal/hackathons/hackfs21/node_modules/walletlink/dist/lib/ScopedLocalStorage.js"],"names":["Object","defineProperty","exports","value","ScopedLocalStorage","constructor","scope","setItem","key","localStorage","scopedKey","getItem","removeItem","clear","prefix","keysToRemove","i","length","startsWith","push","forEach"],"mappings":"AAAA,a,CACA;AACA;AACA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,kBAAR,GAA6B,KAAK,CAAlC;;AACA,MAAMA,kBAAN,CAAyB;AACrBC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,SAAKA,KAAL,GAAaA,KAAb;AACH;;AACDC,EAAAA,OAAO,CAACC,GAAD,EAAML,KAAN,EAAa;AAChBM,IAAAA,YAAY,CAACF,OAAb,CAAqB,KAAKG,SAAL,CAAeF,GAAf,CAArB,EAA0CL,KAA1C;AACH;;AACDQ,EAAAA,OAAO,CAACH,GAAD,EAAM;AACT,WAAOC,YAAY,CAACE,OAAb,CAAqB,KAAKD,SAAL,CAAeF,GAAf,CAArB,CAAP;AACH;;AACDI,EAAAA,UAAU,CAACJ,GAAD,EAAM;AACZC,IAAAA,YAAY,CAACG,UAAb,CAAwB,KAAKF,SAAL,CAAeF,GAAf,CAAxB;AACH;;AACDK,EAAAA,KAAK,GAAG;AACJ,UAAMC,MAAM,GAAG,KAAKJ,SAAL,CAAe,EAAf,CAAf;AACA,UAAMK,YAAY,GAAG,EAArB;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,YAAY,CAACQ,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC1C,YAAMR,GAAG,GAAGC,YAAY,CAACD,GAAb,CAAiBQ,CAAjB,CAAZ;;AACA,UAAI,OAAOR,GAAP,KAAe,QAAf,IAA2BA,GAAG,CAACU,UAAJ,CAAeJ,MAAf,CAA/B,EAAuD;AACnDC,QAAAA,YAAY,CAACI,IAAb,CAAkBX,GAAlB;AACH;AACJ;;AACDO,IAAAA,YAAY,CAACK,OAAb,CAAqBZ,GAAG,IAAIC,YAAY,CAACG,UAAb,CAAwBJ,GAAxB,CAA5B;AACH;;AACDE,EAAAA,SAAS,CAACF,GAAD,EAAM;AACX,WAAQ,GAAE,KAAKF,KAAM,IAAGE,GAAI,EAA5B;AACH;;AA1BoB;;AA4BzBN,OAAO,CAACE,kBAAR,GAA6BA,kBAA7B","sourcesContent":["\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScopedLocalStorage = void 0;\nclass ScopedLocalStorage {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    setItem(key, value) {\n        localStorage.setItem(this.scopedKey(key), value);\n    }\n    getItem(key) {\n        return localStorage.getItem(this.scopedKey(key));\n    }\n    removeItem(key) {\n        localStorage.removeItem(this.scopedKey(key));\n    }\n    clear() {\n        const prefix = this.scopedKey(\"\");\n        const keysToRemove = [];\n        for (let i = 0; i < localStorage.length; i++) {\n            const key = localStorage.key(i);\n            if (typeof key === \"string\" && key.startsWith(prefix)) {\n                keysToRemove.push(key);\n            }\n        }\n        keysToRemove.forEach(key => localStorage.removeItem(key));\n    }\n    scopedKey(key) {\n        return `${this.scope}:${key}`;\n    }\n}\nexports.ScopedLocalStorage = ScopedLocalStorage;\n"]},"metadata":{},"sourceType":"script"}